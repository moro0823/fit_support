<!DOCTYPE html>
<html>
  <head>
    <title>FitSupport</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">
    <script src="https://kit.fontawesome.com/721f0cdc29.js" crossorigin="anonymous"></script>


    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  </head>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  <body class="d-flex flex-column vh-100">
    <header class="shadow-sm">

      <!--ユーザー、ログイン時のヘッダー-->
      <% if customer_signed_in? %>
        <nav class="navbar navbar-expand-lg-customer">
          <p class="navbar-brand p-1">
            <%= link_to image_tag('img/logo.jpg',width: '60',class:" mt-1 rounded-circle"), '/' %>
          </p>
          <ul class="mr-auto">
          <div class="btn-group mr-5 ml-3 mt-3">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >ユーザー関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "マイ施設からの情報一覧", public_admin_posts_path %></li>
              <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "マイ施設の登録,解除", admin_admin_users_path%></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "マイページ", customer_path(current_customer)%></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >投稿関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "投稿を作成", new_post_path  %></li>
              <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "いいねした投稿一覧", customer_favorite_path %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "投稿一覧", posts_path %></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >検索関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "体型の近い人を探す", search_path %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "友達を探す", search_friend_path %></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >Login Now : <%= current_customer.username %></span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "ログアウト", destroy_customer_session_path, method: :delete %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザー情報編集", edit_customer_path(current_customer) %></li>
            </ul>
          </div>
          </ul>
          <div class="loginname" style ="color: white;"></div>
        </nav>

     <!--管理者ログイン時ヘッダー-->
        <% elsif admin_user_signed_in? %>
          <nav class="navbar navbar-expand-lg-admin" style="background-color: #FF8C00;">
            <p class="navbar-brand p-1">
              <%= link_to image_tag('img/logo.jpg',width: '60',class:"mt-1 rounded-circle"), '/' %>
            </p>

              <ul class="mr-auto">
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <span style="font-size: 20px; color: white;" >施設関連</span>
                  </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "施設情報", admin_admin_user_path(current_admin_user) %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "施設情報編集", edit_admin_admin_user_path(current_admin_user) %></li>
                </ul>
                </div>

                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >情報作成関連</span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "管理者用情報作成", new_admin_post_path %></li>
                  <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "情報ジャンルを追加する", admin_genres_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "作成した情報一覧", admin_posts_path %></li>
                </ul>
                </div>
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >パーソナル関連</span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "スタッフ一覧・登録", new_admin_staff_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザーの登録", admin_customers_path %></li>
                </ul>
                </div>
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >Login Now : <%= current_admin_user.name %></span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ログアウト", destroy_admin_user_session_path, method: :delete %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザーの投稿を見る", admin_customer_post_path %></li>
                </ul>
                </div>
              </ul>
          </nav>
        <!--ログアウト時のヘッダー-->
        <% else %>
          <nav class="navbar navbar-expand-lg" style="background-color:#FF6347 ;">
            <p class="navbar-brand p-2">
              <%= link_to image_tag('img/logo.jpg',width: '70',class:"mt-2 rounded-circle"), '/' %>
            </p>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
              <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <ul class="navbar-nav mr-auto">
                  <li class="nav-item mr-3">
                    <%= link_to "アプリ紹介", home_about_path, class: "btn btn-outline-light" %>
                  </li>
                  <li class="nav-item mr-3">
                    <%= link_to "施設を探す", admin_admin_users_path, class: "btn btn-outline-light" %>
                  </li>
                  <li class="nav-item mr-3">
                    <%= link_to "投稿を見てみる", posts_path, class: "btn btn-outline-light" %>
                  </li>
                </ul>
                <div class="nav-light">
                  <div class="nav-text mr-3">
                    <%= link_to "ユーザーログイン", new_customer_session_path, class: "btn btn-outline-light"  %>
                  </div>
                  <div class="nav-text mr-3">
                    <%= link_to "ユーザーサインイン", new_customer_registration_path, class: "btn btn-outline-light"  %>
                  </div>
                  <div class="nav-text mr-3">
                    <%= link_to "管理者ログイン", new_admin_user_session_path, class: "btn btn-outline-light"  %>
                    <!--すぐに管理者の機能を試しやすい為-->
                  </div>
                  <div class="nav-text">
                    <%= link_to "管理者サインイン",  new_admin_user_registration_path, class: "btn btn-outline-light"  %>
                    <!--すぐに管理者の機能を試しやすい為-->
                  </div>
                </div>
              </div>
             </nav>
            <% end %>
        </header>

      <main class ="mb-auto">
        <div class="container-fluid">
          <div class="flash_message pt-3"><%= render 'layouts/notifications' %></div>
          <%= yield %>
        </div>
      </main>
  </body>
</html>
