<!DOCTYPE html>
<html>
  <head>
    <title>FitSupport</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">
    <script src="https://kit.fontawesome.com/721f0cdc29.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
  </head>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  <body class="d-flex flex-column vh-100">
    <header class="shadow-sm">

      <!--ユーザー、ログイン時のヘッダー-->
      <p class="main-logo" style="text-align: center;">
        <%= link_to image_tag('img/logo.jpg',width: '100',class:" mt-1 rounded-circle"), '/' %>
      </p>
      <% if customer_signed_in? %>
        <ul class="customer-top">
          <div class="btn-group mr-5 ml-3 mt-3">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >ユーザー関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "マイページ", customer_path(current_customer)%></li>
              <li><hr class="dropdown-divider"></li>
                <li class="ml-2" style ="font-size: 15px"><%= link_to "マイ施設からの情報一覧", public_admin_posts_path %></li>
                <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "マイ施設の編集", admin_admin_users_path%></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >投稿関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "投稿を作成", new_post_path  %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "いいねした投稿一覧", customer_favorite_path %></li>
              <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "全投稿一覧", posts_path %></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >検索関連</span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "体型の近い人を探す", search_path %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "友達を探す", search_friend_path %></li>
            </ul>
          </div>
          <div class="btn-group mt-3 mr-5">
            <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span style="font-size: 20px; color: white;" >Login Now : <%= current_customer.username %></span>
            </button>
            <ul class="dropdown-menu">
              <li class="ml-2" style ="font-size: 15px"><%= link_to "ログアウト", destroy_customer_session_path, method: :delete %></li>
              <li><hr class="dropdown-divider"></li>
              <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザー情報編集", edit_customer_path(current_customer) %></li>
            </ul>
          </div>
        </ul>
        <div class="loginname" style ="color: white;"></div>


     <!--管理者ログイン時ヘッダー-->
        <% elsif admin_user_signed_in? %>
              <ul class="admin-top">
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <span style="font-size: 20px; color: white;" >施設関連</span>
                  </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "施設情報", admin_admin_user_path(current_admin_user) %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "施設情報編集", edit_admin_admin_user_path(current_admin_user) %></li>
                </ul>
                </div>

                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >情報作成関連</span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "管理者用情報作成", new_admin_post_path %></li>
                  <li class="ml-2 mt-2" style ="font-size: 15px"><%= link_to "情報ジャンルを追加する", admin_genres_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "作成した情報一覧", admin_posts_path %></li>
                </ul>
                </div>
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >パーソナル関連</span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "スタッフ一覧・登録", new_admin_staff_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザーの登録", admin_customers_path %></li>
                </ul>
                </div>
                <div class="btn-group mr-5 ml-3 mt-3">
                  <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <span style="font-size: 20px; color: white;" >Login Now : <%= current_admin_user.name %></span>
                </button>
                <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ログアウト", destroy_admin_user_session_path, method: :delete %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ユーザーの投稿を見る", admin_customer_post_path %></li>
                </ul>
                </div>
              </ul>
          </nav>
        <!--ログアウト時のヘッダー-->
        <% else %>
          <ul class="before-login-top">
            <div class="btn-group mr-5 ml-3 mt-3">
              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span style="font-size: 20px; color: white;" >ログインせずに試す</span>
              </button>
              <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "投稿を見てみる", posts_path %></li>
                  <li class="ml-2 mt-3" style ="font-size: 15px"><%= link_to "施設を探す", admin_admin_users_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "アプリ紹介", home_about_path %></li>
              </ul>
            </div>
            <div class="btn-group mr-5 ml-3 mt-3">
              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span style="font-size: 20px; color: white;" >ユーザーはこちら</span>
              </button>
              <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "ログイン", new_customer_session_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "アカウント作成", new_customer_registration_path %></li>
              </ul>
            </div>
            <div class="btn-group mr-5 ml-3 mt-3">
              <button class="btn btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span style="font-size: 20px; color: white;" >施設管理者はこちら</span>
              </button>
              <ul class="dropdown-menu">
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "管理者ログイン", new_admin_user_session_path %></li>
                  <li><hr class="dropdown-divider"></li>
                  <li class="ml-2" style ="font-size: 15px"><%= link_to "管理者アカウント作成",  new_admin_user_registration_path %></li>
              </ul>
            </div>
          </ul>
          <% end %>
        </header>

      <main class ="mb-auto">
        <div class="container-fluid">
          <div class="flash_message pt-3"><%= render 'layouts/notifications' %></div>
          <%= yield %>
        </div>
      </main>
    <footer class="mt-3">
      <p class="footer-text">© All rights reserved by FitSupport.Inc.</p>
    </footer>
  </body>
</html>
